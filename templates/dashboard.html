{% extends 'base.html' %}
{% block content %}
<div class="container">
    <div class="row">
        <div class="col-lg-4">
            <div class="card bg-dark text-white mb-3 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Total Campaigns</h5>
                    <p class="card-text" id="total-campaigns">{{campaigns|length}}</p>
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="card bg-dark text-white mb-3 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Total Subscribers</h5>
                    <p class="card-text" id="total-subscribers">{{subscribers|length}}</p>
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="card bg-dark text-white mb-3 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Emails Sent</h5>
                    <p class="card-text" id="emails-sent">{{messageLogs|length}}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="card bg-dark text-white mb-3 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Recent Campaigns</h5>
                    <table class="table table-dark table-hover">
                        <thead>
                            <tr>
                                <th scope="col">Title</th>
                                <th scope="col">Type</th>
                                <th scope="col">Date Created</th>
                            </tr>
                        </thead>
                        <tbody id="recent-campaigns">
                            {% for c in campaigns %}
                            <tr>
                            <!-- Recent campaigns will be dynamically loaded here -->
                             <td>{{c.title}}</td>
                             <td>{{c.sender_type|capfirst}}</td>
                             <td>{{c.created_at}}</td>
                            </tr>
                             {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
